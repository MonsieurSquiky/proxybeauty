<!--
  Generated template for the GiftPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar #content class="colored-menu">
        <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
        </button>
    <ion-title> Mes cadeaux </ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
    <div class="container ">

      <div class="stat-main-color stat-bar">
        <span class="stat-bar-rating" role="stat-bar" [ngStyle]="{'width.%': widthBar}">></span>
      </div>
      <button ion-fab class="bar-fab main-color-button" (click)='unlockGift()'>
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 512 512">
            <title></title>
            <g id="icomoon-ignore">
            </g>
            <path class="gift-icon" d="M385.758 160c9.063-6.44 17.756-13.608 25.722-21.574 16.701-16.701 27.873-37.25 31.456-57.861 3.929-22.593-1.836-43.57-15.815-57.55-11.15-11.149-26.255-17.043-43.682-17.043-24.816 0-50.961 11.912-71.73 32.681-33.238 33.238-52.613 79.119-63.038 111.861-7.72-32.901-23.103-77.322-53.009-107.229-16.047-16.046-36.557-24.285-55.923-24.285-15.827 0-30.89 5.502-42.13 16.743-24.993 24.994-21.616 68.893 7.543 98.052 10.396 10.396 22.549 19.031 35.36 26.206h-108.512v128h32v224h384v-224.001h32v-128h-94.242zM337.163 64.109c13.862-13.862 31.161-22.137 46.275-22.137 5.35 0 12.854 1.127 18.225 6.499 13.015 13.014 5.706 43.154-15.64 64.499-21.973 21.973-51.53 37.084-77.216 47.030h-25.336c9.284-28.774 26.029-68.228 53.692-95.891zM116.967 80.445c-0.351-4.56-0.025-13.124 6.098-19.247 5.122-5.122 11.894-6.198 16.674-6.198v0c10.629 0 21.734 5.008 30.466 13.74 16.936 16.936 30.883 43.886 40.334 77.938 0.255 0.92 0.504 1.835 0.748 2.743-0.908-0.243-1.823-0.492-2.743-0.748-34.052-9.452-61.001-23.399-77.937-40.335-7.914-7.913-12.885-18.080-13.64-27.893zM224 480h-128v-208h128v208zM224 256h-160v-64h160v64zM416 480h-128v-208h128v208zM448 256h-160v-64h160v64z"></path>
          </svg>
      </button>
    </div>

    <ion-list style="margin-bottom:0">
        <ion-item >
            <h2 class="main-title" >Prochain cadeau </h2>
            <p style='white-space: normal !important;'>
                Nombre de rendez-vous pris : <b> {{ nbRdv + '/' + nextStep[0] }} </b> <br /><br />
                Nombre de commentaires laissés : <b> {{ nbComment + '/' + nextStep[1] }} </b> <br /> <br />
                Valeur du prochain cadeau : <b> {{ nextStep[2] }} € </b> <br />
            </p>
        </ion-item>

    </ion-list>
    <div style="text-align:center" *ngIf="nbRdv >= nextStep[0] && nbComment >= nextStep[1]">
        <button ion-button class="main-color-button" (click)='unlockGift()'>
            Débloquer
        </button>
    </div>

    <h2 class="main-title" style="padding-left: 16px" >Cadeaux débloqués </h2>
    <ion-card *ngFor="let gift of giftList" class="product-card">
        <img src="{{gift.pictureUrl}}"/>
        <ion-card-content>
            <ion-card-title >
              {{ gift.title }}
            </ion-card-title>
            <p>
                Palier <b> {{gift.palier}} </b> <br />
                Valeur : <b> {{gift.value}} € </b> <br />
                Etat : <b> {{ (gift.state == 'available') ? 'A récupérer' : 'Déjà commandé'}} </b>
            </p>
            <button *ngIf="gift.state == 'available'" class="main-color-button"ion-button small> <b>Récupérer</b></button>
        </ion-card-content>
    </ion-card>
</ion-content>
